const Discord = require('discord.js');
const bot = new Discord.Client();
const request = require('request');
const config = require('./botconfig.json');
const token = config.token;
const prefix = config.prefix;
let http = require("http");
const CommandChecker = require('./commands/CommandChecker');
const play = {
    dispatcher: null,
};
setInterval(function () {
    http.get('https://cyberdoos.herokuapp.com');
}, 100000);

http.createServer().listen(process.env.PORT || 3000);

//ÑÑÑ‹Ğ»ĞºĞ° Ğ¿Ñ€Ğ¸Ğ³Ğ»Ğ°ÑˆĞµĞ½Ğ¸Ğµ Ğ±Ğ¾Ñ‚Ğ°
bot.on('ready', () => {
    console.log(`Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ğ»ÑÑ Ğ±Ğ¾Ñ‚ ${bot.user.username}`);
    bot.generateInvite(["ADMINISTRATOR"]).then(link => {
    });
    bot.user.setActivity('ğŸ¤–ĞºĞ¸Ğ±ĞµÑ€Ğ¶Ğ¸Ğ·Ğ½ÑŒğŸ¤–')
});

bot.on('message', async msg => {
    const checker = new CommandChecker(prefix, msg);

    checker.commandCheck();

    //Ğ³Ğ¾Ğ»Ğ¾ÑĞ¾Ğ²Ñ‹Ğµ ÑĞ²ÑĞ·ĞºĞ¸
    if (msg.content.startsWith(`${prefix}play`) && msg.author.bot === false) {
        if (msg.member.voice.channel) {
            const link = msg.content.split(' ');
            const connection = await msg.member.voice.channel.join();

            const ytdl = require('ytdl-core');
            let stream = ytdl(link[1], {filter: 'audioonly'});
            play.dispatcher = connection.play(stream);

            play.dispatcher.on('finish', () => {
                play.dispatcher.destroy();
                msg.member.voice.channel.leave();
            });
        } else {
            msg.reply('Ğ¡Ğ¿ĞµÑ€Ğ²Ğ° Ğ·Ğ°Ğ¹Ğ´Ğ¸ Ğ½Ğ° ĞºĞ°Ğ½Ğ°Ğ», Ğ´ÑƒÑ€ĞµĞ½ÑŒ');
        }
    }

    if (msg.content.startsWith(`${prefix}stop`) && msg.author.bot === false) {
        play.dispatcher.destroy();
        msg.member.voice.channel.leave();
    }

    //Ğ°Ğ½ĞµĞºĞ´Ğ¾Ñ‚ 
    const plentyOfJokes = ["Ğ˜Ğ´ÑƒÑ‚ Ğ¿Ğ¾ Ğ»ĞµÑÑƒ Ğ´ÑĞ¹Ğ¼Ğ¾Ğ²Ğ¾Ñ‡ĞºĞ°, Ğ±ĞµĞ»Ğ¾ÑĞ½ĞµĞ¶ĞºĞ° Ğ¸ xÑƒĞµcoc Ğ”ÑĞ¹Ğ¼Ğ¾Ğ²Ğ¾Ñ‡ĞºĞ° Ğ³Ğ¾Ğ²Ğ¾Ñ€Ğ¸Ñ‚:\n -Ğ¯ ÑĞ°Ğ¼Ğ°Ñ Ğ¼Ğ°Ğ»ĞµĞ½ÑŒĞºĞ°Ñ Ğ½Ğ° Ğ—ĞµĞ¼Ğ»Ğµ. Ğ‘ĞµĞ»Ğ¾ÑĞ½ĞµĞ¶ĞºĞ° Ğ³Ğ¾Ğ²Ğ¾Ñ€Ğ¸Ñ‚: \n -Ğ¯ ÑĞ°Ğ¼Ğ°Ñ ĞºÑ€Ğ°ÑĞ¸Ğ²Ğ°Ñ Ğ½Ğ° Ğ—ĞµĞ¼Ğ»Ğµ. XÑƒĞµcoc Ğ³Ğ¾Ğ²Ğ¾Ñ€Ğ¸Ñ‚: \n -Ğ¯ Ğ±Ğ¾Ğ»ÑŒÑˆĞµ Ğ²ÑĞµÑ… Ğ¾Ñ‚ÑĞ¾ÑĞ°Ğ» xyÑ‘Ğ². Ğ˜Ğ´ÑƒÑ‚ Ğ¾Ğ½Ğ¸, Ğ² Ğ¾Ğ±Ñ‰ĞµĞ¼, Ğ¸ Ğ·Ğ°Ñ…Ğ¾Ğ´ÑÑ‚ Ğ² Ğ”Ğ¾Ğ¼ ĞŸÑ€Ğ°Ğ²Ğ´Ñ‹. Ğ”ÑĞ¹Ğ¼Ğ¾Ğ²Ğ¾Ñ‡ĞºĞ° Ğ² ÑĞ»ĞµĞ·Ğ°Ñ… Ğ²Ñ‹Ğ±ĞµĞ³Ğ°ĞµÑ‚ Ğ¸ Ğ³Ğ¾Ğ²Ğ¾Ñ€Ğ¸Ñ‚: \n -Ğ‘Ğ»Ğ¸Ğ½-Ğ±Ğ»Ğ¸Ğ½, Ñ Ğ½Ğµ ÑĞ°Ğ¼Ğ°Ñ Ğ¼Ğ°Ğ»ĞµĞ½ÑŒĞºĞ°Ñ. ĞœĞµĞ½ÑŒÑˆĞµ Ğ¼ĞµĞ½Ñ Ğ¼Ğ°Ğ»ÑŒÑ‡Ğ¸Ğº-ÑĞ¿Ğ°Ğ»ÑŒÑ‡Ğ¸Ğº. Ğ‘ĞµĞ»Ğ¾ÑĞ½ĞµĞ¶ĞºĞ° Ñ‚Ğ¾Ğ¶Ğµ Ğ²Ñ‹Ğ±ĞµĞ³Ğ°ĞµÑ‚ Ğ² ÑĞ»ĞµĞ·Ğ°Ñ… Ğ¸ ĞºÑ€Ğ¸Ñ‡Ğ¸Ñ‚: \n -Ğ§Ñ‘Ñ€Ñ‚, Ñ Ğ½Ğµ ÑĞ°Ğ¼Ğ°Ñ ĞºÑ€Ğ°ÑĞ¸Ğ²Ğ°Ñ. ĞšÑ€Ğ°ÑĞ¸Ğ²ĞµĞµ Ğ¼ĞµĞ½Ñ ÑĞ¿ÑÑ‰Ğ°Ñ ĞºÑ€Ğ°ÑĞ°Ğ²Ğ¸Ñ†Ğ°. Ğ’Ñ‹Ñ…Ğ¾Ğ´Ğ¸Ñ‚ Ğ·Ğ»Ğ¾Ğ¹ Ñ…yecĞ¾Ñ Ğ¸ Ğ³Ğ¾Ğ²Ğ¾Ñ€Ğ¸Ñ‚: \n -CyĞºa, ĞºÑ‚Ğ¾ Ñ‚Ğ°ĞºĞ¾Ğ¹ Ğ˜Ğ»ÑÑ…Ğ°?ğŸ¤¬ ğŸ¤¬ ğŸ¤¬",
        "Ğ£Ğ¼ĞµÑ€Ğ»Ğ¸ Ğ˜Ğ»ÑÑ…Ğ°, Ğ”Ğ¸Ğ¼Ğ°Ğ½ Ğ¸ Ğ’Ğ°Ğ½ÑƒÑ. Ğ˜, Ğ¿Ğ¾Ğ¿Ğ°Ğ² Ğ½Ğ° Ğ¿Ñ€Ğ¸Ñ‘Ğ¼ Ğº Ğ±Ğ¾Ğ³Ñƒ, Ğ²ÑĞµ Ğ²Ñ‚Ñ€Ğ¾Ñ‘Ğ¼ Ğ²Ğ·Ğ¼Ğ¾Ğ»Ğ¸Ğ»Ğ¸ÑÑŒ: \n â€” ĞÑ‚Ğ¿ÑƒÑÑ‚Ğ¸ Ğ½Ğ°Ñ Ğ¾Ğ±Ñ€Ğ°Ñ‚Ğ½Ğ¾ Ğ½Ğ° Ğ·ĞµĞ¼Ğ»Ñ, Ğ¼Ğ°Ğ»Ğ¾ Ğ¼Ñ‹ Ğ¿Ğ¾Ğ¶Ğ¸Ğ»Ğ¸ ĞµÑ‰Ñ‘, Ğ¼Ğ¾Ğ»Ğ¾Ğ´Ñ‹Ğµ ÑĞ¾Ğ²ÑĞµĞ¼.  \n â€” Ğ¥Ğ¾Ñ€Ğ¾ÑˆĞ¾,â€”Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ¸Ğ» Ğ¸Ğ¼ Ğ±Ğ¾Ğ³,â€”Ğ½Ğ¾ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ´Ğ¾ Ğ¿ĞµÑ€Ğ²Ğ¾Ğ³Ğ¾ ÑĞ¾Ğ±Ğ»Ğ°Ğ·Ğ½Ğ°. Ğ˜ Ğ²Ğ¾Ñ‚ Ğ¾Ñ‡ÑƒÑ‚Ğ¸Ğ»Ğ¸ÑÑŒ Ğ¾Ğ½Ğ¸ Ğ½Ğ° Ğ·ĞµĞ¼Ğ»Ğµ, Ğ² ĞºĞ°ĞºĞ¾Ğ¼-Ñ‚Ğ¾ Ğ´Ğ¾Ğ¼Ğµ. Ğ’Ğ¸Ğ´ÑÑ‚: Ğ¿Ğ°Ñ‡ĞºĞ° ÑĞ½ÑÑĞ°. Ğ”Ğ¸Ğ¼Ğ°Ğ½ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¿Ğ¾Ñ‚ÑĞ½ÑƒĞ»ÑÑ â€” Ñ‚ÑƒÑ‚ Ğ¶Ğµ Ğ¿Ñ€Ğ¾Ğ¿Ğ°Ğ». Ğ Ğ˜Ğ»ÑÑ…Ğ° Ğ¸ Ğ’Ğ°Ğ½ÑƒÑ Ğ²Ñ‹ÑˆĞ»Ğ¸ Ğ¸Ğ· Ğ´Ğ¾Ğ¼Ğ° Ğ¸ Ğ¿Ğ¾ÑˆĞ»Ğ¸ Ğ´Ğ°Ğ»ÑŒÑˆĞµ. Ğ’Ğ´Ñ€ÑƒĞ³ Ğ²Ğ¸Ğ´ÑÑ‚ Ğ½Ğ° Ğ´Ğ¾Ñ€Ğ¾Ğ³Ğµ 100 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ² Ğ»ĞµĞ¶Ğ°Ñ‚. Ğ’Ğ°Ğ½ÑƒÑ Ğ½Ğ°ĞºĞ»Ğ¾Ğ½Ğ¸Ğ»ÑÑ Ğ·Ğ° Ğ´ĞµĞ½ÑŒĞ³Ğ°Ğ¼Ğ¸ Ğ¸ Ğ¿Ñ€Ğ¾Ğ¿Ğ°Ğ»Ğ¸ Ğ¾Ğ±Ğ°.ğŸ’µ ğŸ’µ ğŸ’µ",
        "ĞĞ´Ğ¸Ğ½ Ğ±Ğ°Ñ€ Ğ±Ñ‹Ğ» Ğ¸Ğ·Ğ²ĞµÑÑ‚ĞµĞ½ ÑĞ²Ğ¾Ğ¸Ğ¼ Ğ±Ğ°Ñ€Ğ¼ĞµĞ½Ğ¾Ğ¼, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ Ğ´Ğ°Ğ²Ğ°Ğ» Ğ¿Ñ€ĞµĞ´ÑÑ‚Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ, Ğ³Ğ´Ğµ Ğ¾Ğ½ Ğ²ÑĞµĞ³Ğ´Ğ° ÑƒĞ³Ğ°Ğ´Ñ‹Ğ²Ğ°Ğ», Ñ‡Ñ‚Ğ¾ ÑĞ¾Ğ±Ğ¸Ñ€Ğ°ĞµÑ‚ÑÑ Ğ·Ğ°ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ ĞºĞ»Ğ¸ĞµĞ½Ñ‚. \n ĞĞ° Ğ¾Ğ´Ğ½Ğ¾Ğ¼ Ğ¸Ğ· Ñ‚Ğ°ĞºĞ¸Ñ… Ğ¿Ñ€ĞµĞ´ÑÑ‚Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğ¹ Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´Ğ¸Ñ‚ Ğº Ğ½ĞµĞ¼Ñƒ Ğ¿Ğ°Ğ½Ğº. Ğ‘Ğ°Ñ€Ğ¼ĞµĞ½ Ğ´Ğ¾Ğ»Ğ³Ğ¾ Ğ´ÑƒĞ¼Ğ°Ğ», Ğ¿Ğ¾Ñ‚Ğ¾Ğ¼, Ğ½Ğ° Ğ¿Ğ¾ĞºĞ°Ğ· Ğ¿ÑƒĞ±Ğ»Ğ¸ĞºĞµ, Ğ¾Ğ½ ÑÑ‚ÑƒĞºĞ½ÑƒĞ» Ğ¿Ğ¾ ÑÑ‚Ğ¾Ğ¹ĞºĞµ Ğ±ÑƒÑ‚Ñ‹Ğ»ĞºĞ¾Ğ¹ Ğ¿Ğ¸Ğ²Ğ°. ĞŸĞ°Ğ½Ğº Ğ¾Ğ±Ñ€Ğ°Ğ´Ğ¾Ğ²Ğ°Ğ»ÑÑ Ğ¸ Ğ¿Ğ¾ÑˆÑ‘Ğ» Ğ½Ğ° Ñ‚Ğ°Ğ½Ñ†Ğ¿Ğ¾Ğ». \n ĞŸĞ¾Ñ‚Ğ¾Ğ¼ Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´Ğ¸Ñ‚ Ğ½ĞµĞ³Ñ€. Ğ‘Ğ°Ñ€Ğ¼ĞµĞ½, Ğ½ĞµĞ¼Ğ½Ğ¾Ğ³Ğ¾ Ğ¿Ğ¾Ğ´ÑƒĞ¼Ğ°Ğ², Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ ÑÑ‚ÑƒĞºĞ½ÑƒĞ» Ğ¿Ğ¾ ÑÑ‚Ğ¾Ğ¹ĞºĞµ Ğ²ĞµĞ´Ñ€Ğ¾Ğ¼ ĞºÑƒÑ€Ğ¸Ñ†Ñ‹ Ğ¸Ğ· KFC. ĞĞµĞ³Ñ€ Ğ¾Ğ±Ñ€Ğ°Ğ´Ğ¾Ğ²Ğ°Ğ»ÑÑ Ğ¸ Ğ¿Ğ¾ÑˆÑ‘Ğ» ÑƒĞ³Ğ¾Ğ½ÑÑ‚ÑŒ Ğ¼Ğ°ÑˆĞ¸Ğ½Ñ‹. \n ĞŸĞ¾Ñ‚Ğ¾Ğ¼ Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´Ğ¸Ñ‚ Ğ˜Ğ»ÑÑ…Ğ°. Ğ‘Ğ°Ñ€Ğ¼ĞµĞ½ ÑÑ€Ğ°Ğ·Ñƒ Ğ¶Ğµ ÑÑ‚ÑƒĞºĞ½ÑƒĞ» Ğ¾Ğ± ÑÑ‚Ğ¾Ğ¹ĞºÑƒ Ñ€ĞµĞ·Ğ¸Ğ½Ğ¾Ğ²Ñ‹Ğ¹ Ğ´Ğ¸Ğ»Ğ´Ğ°Ğº.ğŸ† ğŸ† ğŸ†",
        "Ğ¡Ñ‹Ğ½ Ğ¿Ğ¸ÑˆĞµÑ‚ Ğ¿Ğ¸ÑÑŒĞ¼Ğ¾ Ğ”ĞµĞ´Ñƒ ĞœĞ¾Ñ€Ğ¾Ğ·Ñƒ. Ğ ÑĞ´Ğ¾Ğ¼ Ğ² ĞºÑ€ĞµÑĞ»Ğµ Ğ¾Ñ‚Ğ´Ñ‹Ñ…Ğ°ĞµÑ‚ ÑĞ²ĞµĞºÑ€Ğ¾Ğ²ÑŒ.Ğ¡Ñ‹Ğ½: \n - Ğ‘Ğ°Ğ±ÑƒÑˆĞºĞ°, Ğ° Ñ‚Ñ‹ Ğ±ÑƒĞ´ĞµÑˆÑŒ Ğ¿Ğ¸ÑĞ°Ñ‚ÑŒ Ğ¿Ğ¸ÑÑŒĞ¼Ğ¾ Ğ”ĞµĞ´Ñƒ ĞœĞ¾Ñ€Ğ¾Ğ·Ñƒ? \n Ğ¡Ğ²ĞµĞºÑ€Ğ¾Ğ²ÑŒ: \n - ĞĞµÑ‚. \n Ğ¡Ñ‹Ğ½: \n- ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ? \n Ğ¡Ğ²ĞµĞºÑ€Ğ¾Ğ²ÑŒ: \n - Ğ”Ğ° Ğ¼Ğ½Ğµ Ğ²Ñ€Ğ¾Ğ´Ğµ Ğ½Ğ¸Ñ‡ĞµĞ³Ğ¾ Ğ½Ğµ Ğ½ÑƒĞ¶Ğ½Ğ¾. \n Ğ¡Ñ‹Ğ½: \n - Ğ§Ñ‚Ğ¾, Ğ¸ Ğ½Ğ¾Ğ²Ğ°Ñ Ğ»Ğ¾Ğ¿Ğ°Ñ‚Ğ° Ğ½Ğµ Ğ½ÑƒĞ¶Ğ½Ğ°? - Ğ±Ğ°Ğ±ÑƒÑˆĞºĞ° Ñƒ Ğ½Ğ°Ñ Ğ·Ğ°ÑĞ´Ğ»Ğ°Ñ Ğ¾Ğ³Ğ¾Ñ€Ğ¾Ğ´Ğ½Ğ¸Ñ†Ğ°. \n Ğ¡Ğ²ĞµĞºÑ€Ğ¾Ğ²ÑŒ: \n - ĞÑƒ, Ğ»Ğ¾Ğ¿Ğ°Ñ‚Ğ°, Ğ¼Ğ¾Ğ¶ĞµÑ‚, Ğ¸ Ğ½ÑƒĞ¶Ğ½Ğ°. \n ĞĞ° Ğ´Ñ€ÑƒĞ³Ğ¾Ğ¹ Ğ´ĞµĞ½ÑŒ Ğ¾Ğ±Ğ½Ğ°Ñ€ÑƒĞ¶Ğ¸Ğ»Ğ¸ Ğ¿Ğ¸ÑÑŒĞ¼Ğ¾, Ğ½Ğ°Ğ¿Ğ¸ÑĞ°Ğ½Ğ½Ğ¾Ğµ Ğ·Ğ°Ğ±Ğ¾Ñ‚Ğ»Ğ¸Ğ²Ñ‹Ğ¼ Ğ²Ğ½ÑƒĞºĞ¾Ğ¼. \n 'Ğ”Ğ¾Ñ€Ğ¾Ğ³Ğ¾Ğ¹ Ğ´ĞµĞ´ÑƒÑˆĞºĞ° Ğ¼Ğ¾Ñ€Ğ¾Ğ·, Ğ¿Ñ€Ñ‹Ñ‰ Ğ½Ğ° Ğ¶Ğ¾Ğ¿Ğµ Ğ²Ğ¾Ğ»Ğ¾ÑĞ½Ñ‘Ğ¹ Ğ¾Ğ±Ñ€Ğ¾Ñ, Ñ Ğ½Ğµ Ğ¾Ğ±ÑĞ¾Ñ, Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸ Ğ² ĞµĞ±Ğ°ÑĞ¾Ñ, Ğ¾Ñ‚Ğ²ĞµÑ‚ÑŒ ÑĞºĞ¾Ñ€ĞµĞ¹ Ğ½Ğ° Ğ¼Ğ¾Ğ¹ Ğ³Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ Ğ²Ğ¾Ğ¿Ñ€Ğ¾Ñ'.",
        "Ğ—Ğ°Ñ…Ğ¾Ğ´Ğ¸Ñ‚ Ğ½ĞµĞ³Ñ€ Ğ² Ğ±Ğ°Ñ€. Ğ—Ğ°ĞºĞ°Ğ·Ğ°Ğ» Ğ¿Ğ¸Ğ²Ğ°, ÑĞ¸Ğ´Ğ¸Ñ‚ Ğ¿ÑŒĞµÑ‚.Ğ ÑĞ´Ğ¾Ğ¼ Ñ‚Ñ€Ğ¾Ğµ Ğ±ĞµĞ»Ñ‹Ñ… Ğ±ÑƒÑ…Ğ°ÑÑ‚. ĞĞ´Ğ¸Ğ½ Ğ³Ğ¾Ğ²Ğ¾Ñ€Ğ¸Ñ‚: \n - Ğ­Ğ¹, Ğ½Ğ¸Ğ³Ğ³ĞµÑ€. Ğ—Ğ½Ğ°ĞµÑˆÑŒ Ğ¿Ğ¾Ñ‡ĞµĞ¼Ñƒ Ñ‚Ñ‹ Ğ²ĞµÑÑŒ Ñ‡ĞµÑ€Ğ½Ñ‹Ğ¹, Ğ° Ñƒ Ñ‚ĞµĞ±Ñ Ğ±ĞµĞ»Ñ‹Ğµ? ĞŸĞ¾Ñ‚Ğ¾Ğ¼Ñƒ Ñ‡Ñ‚Ğ¾ ĞºĞ¾Ğ³Ğ´Ğ° Ñ Ñ‚ĞµĞ±Ñ ĞºÑ€Ğ°ÑĞ¸Ğ» Ğ² Ñ‡Ñ€ÑƒĞºĞ¸ Ñƒ ĞµÑ€Ğ½Ñ‹Ğ¹ Ñ†Ğ²ĞµÑ‚, Ñ‚Ñ‹ Ñ€ÑƒĞºĞ°Ğ¼Ğ¸ Ğ² ÑÑ‚ĞµĞ½Ñ‹ ÑƒĞ¿Ğ¸Ñ€Ğ°Ğ»ÑÑ. Ğ¡Ğ¸Ğ´ÑÑ‚ ÑƒĞ³Ğ°Ñ€Ğ°ÑÑ‚. \n- Ğ­Ğ¹, Ğ½Ğ¸Ğ³Ğ³ĞµÑ€. Ğ—Ğ½Ğ°ĞµÑˆÑŒ Ğ¿Ğ¾Ñ‡ĞµĞ¼Ñƒ Ñ‚Ñ‹ Ğ²ĞµÑÑŒ Ñ‡ĞµÑ€Ğ½Ñ‹Ğ¹, Ğ° Ñƒ Ğ½Ğ¾Ğ³Ğ¸ Ñƒ Ñ‚ĞµĞ±Ñ Ğ±ĞµĞ»Ñ‹Ğµ? ĞŸĞ¾Ñ‚Ğ¾Ğ¼Ñƒ Ñ‡Ñ‚Ğ¾ ĞºĞ¾Ğ³Ğ´Ğ° Ñ Ñ‚ĞµĞ±Ñ ĞºÑ€Ğ°ÑĞ¸Ğ», Ñ‚Ñ‹ Ğ½Ğ¾Ğ³Ğ°Ğ¼Ğ¸ Ğ² Ğ¿Ğ¾Ğ» ÑƒĞ¿Ğ¸Ñ€Ğ°Ğ»ÑÑ.Ğ¡Ğ¸Ğ´ÑÑ‚ Ğ´Ğ°Ğ»ÑŒÑˆĞµ, ÑƒĞ³Ğ°Ñ€Ğ°ÑÑ‚.ĞĞµĞ³Ñ€ Ğ´Ğ¾Ğ¿Ğ¸Ğ²Ğ°ĞµÑ‚ Ğ¿Ğ¸Ğ²Ğ¾, Ğ¾Ğ±Ğ¾Ñ€Ğ°Ñ‡Ğ¸Ğ²Ğ°ĞµÑ‚ÑÑ Ğ¸ Ğ³Ğ¾Ğ²Ğ¾Ñ€Ğ¸Ñ‚: \n - Ğ Ğ·Ğ½Ğ°ĞµÑˆÑŒ Ğ¿Ğ¾Ñ‡ĞµĞ¼Ñƒ Ñ‚Ñ‹ Ğ²ĞµÑÑŒ Ğ±ĞµĞ»Ñ‹Ğ¹, Ğ° Ğ¾Ñ‡ĞºĞ¾ Ñƒ Ñ‚ĞµĞ±Ñ Ñ‡ĞµÑ€Ğ½Ğ¾Ğµ? ĞŸĞ¾Ñ‚Ğ¾Ğ¼Ñƒ Ñ‡Ñ‚Ğ¾ ĞºĞ¾Ğ³Ğ´Ğ° Ñ Ñ‚ĞµĞ±Ñ ĞµĞ±Ğ°Ğ», ĞºÑ€Ğ°ÑĞºĞ° ĞµÑ‰Ğµ Ğ½Ğµ Ğ¾Ğ±ÑĞ¾Ñ…Ğ»Ğ°. ğŸ’ ğŸ’ ğŸ’"]

    if (msg.content.search(`${prefix}[Jj][Oo][Kk][Ee]`) > -1 && msg.author.bot === false) {
        const joke = plentyOfJokes[Math.floor(Math.random() * plentyOfJokes.length)];
        msg.reply({
            embed: {
                color: 15105570,
                description: `${joke}`
            }
        });
    }
    //ĞºĞ¾Ñ€Ğ¾Ğ½Ğ°Ğ²Ğ¸Ñ€ÑƒÑ
    if (msg.content.search(`${prefix}[Vv][Ii][Rr][Uu][Ss]`) > -1 && msg.author.bot === false) {
        request("https://pomber.github.io/covid19/timeseries.json", function (err, response, body) {
            if (err) {
                msg.reply({
                    embed: {
                        color: 15105570,
                        description: `â›”Ğ£Ğ²Ñ‹, Ğ½Ğ¾ Ñ‡Ñ‚Ğ¾-Ñ‚Ğ¾ Ğ¿Ğ¾ÑˆĞ»Ğ¾ Ğ½Ğµ Ñ‚Ğ°Ğºâ›”`
                    }
                })
            } else {
                const covidData = JSON.parse(body);
                const lastday = covidData.Russia[covidData.Russia.length - 1];

                msg.reply({
                    embed: {
                        color: 15105570,
                        description: `ĞĞ° Ğ´Ğ°Ğ½Ğ½Ğ¾Ğµ Ğ²Ñ€ĞµĞ¼Ñ Ğ½Ğ° Ñ‚ĞµÑ€Ñ€Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ¸ Ğ Ğ¾ÑÑĞ¸Ğ¹ÑĞºĞ¾Ğ¹ Ğ¤ĞµĞ´ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ Ğ¾Ğ±Ğ½Ğ°Ñ€ÑƒĞ¶ĞµĞ½Ğ¾ ğŸ’Š${lastday.confirmed}ğŸ’Š ÑĞ»ÑƒÑ‡Ğ°ĞµĞ² Ğ·Ğ°Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ COVID-19, Ğ¿Ğ¾Ğ³Ğ¸Ğ±Ğ»Ğ¾ ğŸ’€${lastday.deaths}ğŸ’€ Ñ‡ĞµĞ»Ğ¾Ğ²ĞµĞº.`
                    }
                })
            }
        })
    }
    //Ğ¿Ğ¾Ğ³Ğ¾Ğ´Ğ°
    if (msg.content.search(`${prefix}[Ww][Ee][Aa][Tt][Hh][Ee][Rr]`) > -1 && msg.author.bot === false) {
        let weatherCountry = msg.content.split(' ');
        const apiKey = '9552deb6aed115532d3abdc34e24d985';
        weatherCountry.shift();
        let weatherCountryWithoutCommand = weatherCountry.join(' ');

        if (weatherCountryWithoutCommand.search(`[Ğ’Ğ²][Ğ›Ğ»][Ğ“Ğ³]`) > -1 || weatherCountryWithoutCommand.search(`[Ğ’Ğ²][ĞĞ¾][Ğ›Ğ»][Ğ“Ğ³][ĞĞ¾][Ğ“Ğ³][Ğ Ñ€][ĞĞ°][Ğ”Ğ´]`) > -1) {
            weatherCountryWithoutCommand = 'volgograd';
        };
        if (weatherCountryWithoutCommand.search(`[Ğ£Ñƒ][Ğ›Ğ»]`) > -1) {
            weatherCountryWithoutCommand = 'Ust-Labinsk';
        };
        if (weatherCountryWithoutCommand.search(`[Ğ¡Ñ][ĞŸĞ¿][Ğ‘Ğ±]`) > -1 || weatherCountryWithoutCommand.search(`[ĞŸĞ¿][Ğ˜Ğ¸][Ğ¢Ñ‚][Ğ•Ğµ][Ğ Ñ€]`) > -1) {
            weatherCountryWithoutCommand = 'Saint Petersburg'
        };
        if (weatherCountryWithoutCommand.search(`[ĞœĞ¼][Ğ¡Ñ][ĞšĞº]`) > -1 || weatherCountryWithoutCommand.search(`[ĞœĞ¼][ĞĞ¾][Ğ¡Ñ][ĞšĞº][Ğ’Ğ²][ĞĞ°]`) > -1) {
            weatherCountryWithoutCommand = 'Moscow'
        };
        const url = `http://api.openweathermap.org/data/2.5/weather?q=${weatherCountryWithoutCommand}&units=metric&lang=RU&appid=${apiKey}`;
        request(url, function (err, response, body) {
            let data = JSON.parse(body);
            if (data.message === 'city not found') {
                msg.channel.send({
                    embed: {
                        color: 15105570,
                        description: `âŒğŸ™ï¸ Ğ’ Ğ¼Ğ¾Ğ¸Ñ… Ğ±Ğ°Ğ·Ğ°Ñ… Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ñ‚Ğ°ĞºĞ¾Ğ³Ğ¾ Ğ³Ğ¾Ñ€Ğ¾Ğ´Ğ° Ğ½ĞµÑ‚ âŒğŸ™ï¸`
                    }
                })
            } else {
                let data2 = data.weather.find(item => item.id);
                let temp = Math.floor(data.main.temp);
                if (data2.description == 'ÑÑĞ½Ğ¾') {
                    msg.channel.send({
                        embed: {
                            color: 15105570,
                            description: `${data.name}. ĞŸĞ¾Ğ³Ğ¾Ğ´Ğ° Ğ² Ğ½Ğ°ÑÑ‚Ğ¾ÑÑ‰Ğ¸Ğ¹ Ğ¼Ğ¾Ğ¼ĞµĞ½Ñ‚. â˜€ï¸${data2.description}â˜€ï¸\nĞ¢ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ğ° ÑĞ¾ÑÑ‚Ğ°Ğ²Ğ»ÑĞµÑ‚ ğŸŒˆ${temp} Ğ³Ñ€Ğ°Ğ´ÑƒÑĞ¾Ğ² Ğ¦ĞµĞ»ÑŒÑĞ¸ÑğŸŒˆ\nĞ¡ĞºĞ¾Ñ€Ğ¾ÑÑ‚ÑŒ Ğ²ĞµÑ‚Ñ€Ğ° ğŸ’¨${data.wind.speed} Ğ¼ĞµÑ‚Ñ€Ğ¾Ğ² Ğ² ÑĞµĞºÑƒĞ½Ğ´ÑƒğŸ’¨.`
                        }
                    })
                }
                if (data2.description.includes('Ğ¾Ğ±Ğ»Ğ°')) {
                    msg.channel.send({
                        embed: {
                            color: 15105570,
                            description: `${data.name}. ĞŸĞ¾Ğ³Ğ¾Ğ´Ğ° Ğ² Ğ½Ğ°ÑÑ‚Ğ¾ÑÑ‰Ğ¸Ğ¹ Ğ¼Ğ¾Ğ¼ĞµĞ½Ñ‚. â›…${data2.description}â›…\nĞ¢ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ğ° ÑĞ¾ÑÑ‚Ğ°Ğ²Ğ»ÑĞµÑ‚ ğŸŒˆ${temp} Ğ³Ñ€Ğ°Ğ´ÑƒÑĞ¾Ğ² Ğ¦ĞµĞ»ÑŒÑĞ¸ÑğŸŒˆ\nĞ¡ĞºĞ¾Ñ€Ğ¾ÑÑ‚ÑŒ Ğ²ĞµÑ‚Ñ€Ğ° ğŸ’¨${data.wind.speed} Ğ¼ĞµÑ‚Ñ€Ğ¾Ğ² Ğ² ÑĞµĞºÑƒĞ½Ğ´ÑƒğŸ’¨.`
                        }
                    })
                }
                if (data2.description.includes('Ğ´Ğ¾Ğ¶Ğ´')) {
                    msg.channel.send({
                        embed: {
                            color: 15105570,
                            description: `${data.name}. ĞŸĞ¾Ğ³Ğ¾Ğ´Ğ° Ğ² Ğ½Ğ°ÑÑ‚Ğ¾ÑÑ‰Ğ¸Ğ¹ Ğ¼Ğ¾Ğ¼ĞµĞ½Ñ‚. ğŸŒ§ï¸${data2.description}ğŸŒ§ï¸\nĞ¢ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ğ° ÑĞ¾ÑÑ‚Ğ°Ğ²Ğ»ÑĞµÑ‚ ğŸŒˆ${temp} Ğ³Ñ€Ğ°Ğ´ÑƒÑĞ¾Ğ² Ğ¦ĞµĞ»ÑŒÑĞ¸ÑğŸŒˆ\nĞ¡ĞºĞ¾Ñ€Ğ¾ÑÑ‚ÑŒ Ğ²ĞµÑ‚Ñ€Ğ° ğŸ’¨${data.wind.speed} Ğ¼ĞµÑ‚Ñ€Ğ¾Ğ² Ğ² ÑĞµĞºÑƒĞ½Ğ´ÑƒğŸ’¨.`
                        }
                    })
                }
                if (data2.description.includes('Ğ¿Ğ°ÑĞ¼Ñƒ')) {
                    msg.channel.send({
                        embed: {
                            color: 15105570,
                            description: `${data.name}. ĞŸĞ¾Ğ³Ğ¾Ğ´Ğ° Ğ² Ğ½Ğ°ÑÑ‚Ğ¾ÑÑ‰Ğ¸Ğ¹ Ğ¼Ğ¾Ğ¼ĞµĞ½Ñ‚. â˜ï¸${data2.description}â˜ï¸\nĞ¢ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ğ° ÑĞ¾ÑÑ‚Ğ°Ğ²Ğ»ÑĞµÑ‚ ğŸŒˆ${temp} Ğ³Ñ€Ğ°Ğ´ÑƒÑĞ¾Ğ² Ğ¦ĞµĞ»ÑŒÑĞ¸ÑğŸŒˆ\nĞ¡ĞºĞ¾Ñ€Ğ¾ÑÑ‚ÑŒ Ğ²ĞµÑ‚Ñ€Ğ° ğŸ’¨${data.wind.speed} Ğ¼ĞµÑ‚Ñ€Ğ¾Ğ² Ğ² ÑĞµĞºÑƒĞ½Ğ´ÑƒğŸ’¨.`
                        }
                    })
                }
                if (data2.description.includes('Ñ‚ÑƒĞ¼Ğ°Ğ½')) {
                    msg.channel.send({
                        embed: {
                            color: 15105570,
                            description: `${data.name}. ĞŸĞ¾Ğ³Ğ¾Ğ´Ğ° Ğ² Ğ½Ğ°ÑÑ‚Ğ¾ÑÑ‰Ğ¸Ğ¹ Ğ¼Ğ¾Ğ¼ĞµĞ½Ñ‚. ğŸŒ«ï¸${data2.description}ğŸŒ«ï¸\nĞ¢ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ğ° ÑĞ¾ÑÑ‚Ğ°Ğ²Ğ»ÑĞµÑ‚ ğŸŒˆ${temp} Ğ³Ñ€Ğ°Ğ´ÑƒÑĞ¾Ğ² Ğ¦ĞµĞ»ÑŒÑĞ¸ÑğŸŒˆ\nĞ¡ĞºĞ¾Ñ€Ğ¾ÑÑ‚ÑŒ Ğ²ĞµÑ‚Ñ€Ğ° ğŸ’¨${data.wind.speed} Ğ¼ĞµÑ‚Ñ€Ğ¾Ğ² Ğ² ÑĞµĞºÑƒĞ½Ğ´ÑƒğŸ’¨.`
                        }
                    })
                }
            }
        });
    };
})

bot.login(token);